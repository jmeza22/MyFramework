<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <meta charset="UTF-8"/>
        <title>Nueva Factura</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content="Registro de Factura"/>
        <meta name="author" content="Jose Meza"/>
        <link rel="icon" type="image/png" href="css/IconPage.png" />
        <link rel="shortcut icon" type="image/png" href="css/IconPage.png" />

        <link href='https://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css' />
        <link href='https://fonts.googleapis.com/css?family=Voltaire' rel='stylesheet' type='text/css' />
        <link href="css/styles.css" rel="stylesheet" />

        <!-- Bootstrap Core CSS -->
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>
        <link href="datatables/css/dataTables.bootstrap.css" rel="stylesheet" type="text/css"/>

        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script type="text/javascript" src="js/Validator.js"></script>
        <script type="text/javascript" src="js/LoadImage.js"></script>
        <script type="text/javascript" src="js/SimplexFramework.js"></script>
        <script type="text/javascript" src="js/localStorageData.js"></script>
        <script type="text/javascript" src="js-forms/localStorageInvoices.js"></script>
        <script type="text/javascript" src="js-forms/FormInvoices.js"></script>
    </head>
    <body>
        <div class="panel panel-primary" style="width: 80% !important;">
            <div class="panel-heading">Registro de Factura</div>
            <div class="panel-body">
                <form id="form0" method="POST" autocomplete="off" url="Base/Controllers/InvoiceController.php" model="SalesInvoicesApp" findBy="id_invoice" >
                    <input type="hidden" integer="true" name="id_invoice" id="id_invoice" value="0" required="required" >
                    <input type="hidden" integer="true" name="id_store" id="id_store" value="0" required="required" >

                    <div class="row">
                        <div class="col-sm-3">
                            <label>No.Factura</label>
                            <input type="text" name="number_invoice" id="number_invoice" maxlength="100" class="form-control" readonly="readonly" />
                        </div>

                        <div class="col-sm-3">
                            <label>Vendedor</label>
                            <input type="text" name="doc_seller" id="doc_seller" maxlength="30" class="form-control" url="Base/Controllers/DefaultController.php" model="SellersApp" />
                        </div>
                        <div class="col-sm-6">
                            <label>Nombre Vendedor</label>
                            <input type="text" name="fullname_seller" id="fullname_seller" maxlength="200" class="form-control" disabled="disabled" />
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            <label>No.Orden</label>
                            <input type="text" name="id_order" id="id_order" maxlength="100" class="form-control" readonly="readonly" />
                        </div>
                        <div class="col-sm-3">
                            <label>Cliente</label>
                            <input type="text" name="doc_customer" id="doc_customer" maxlength="30" class="form-control" url="Base/Controllers/DefaultController.php" model="CustomersApp" />
                        </div>
                        <div class="col-sm-6">
                            <label>Nombre Cliente</label>
                            <input type="text" name="fullname_customer" id="fullname_customer" maxlength="200" class="form-control" disabled="disabled" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            <label>Fecha</label>
                            <input type="date" name="date_invoice" id="date_invoice" maxlength="12" class="form-control" readonly="readonly" />
                        </div>
                        <div class="col-sm-9">
                            <label>Observaciones</label>
                            <input type="text" name="note_invoice" id="note_invoice" maxlength="100" class="form-control" />
                        </div>
                    </div>


                </form>
            </div>
        </div>

        <div class="modal fade" id="modal_form">
            <div class="modal-dialog">
                <div class="modal-content">

                    <div class="modal-header">
                        <button type="button" tyle="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Agregar Producto</h4>
                    </div>

                    <div class="modal-body">
                        <form id="form1" method="POST" autocomplete="off" url="Base/Controllers/InvoiceDetailController.php" model="SalesInvoiceDetailsApp" findBy="id_invoicedetail" >
                            <input type="hidden" integer="true" name="id_invoicedetail" id="id_invoicedetail" value="0" required="required" >
                            <input type="hidden" integer="true" name="id_invoice" id="id_invoice" value="0" required="required" >
                            <div class="row">
                                <div class="col-sm-3">
                                    <label>Producto</label>
                                    <input type="text" name="id_product" id="id_product" maxlength="50" class="form-control" url="Base/Controllers/DefaultController.php" model="ProductsApp" />
                                </div>
                                <div class="col-sm-9">
                                    <label>Nombre de Producto</label>
                                    <input type="text" name="name_product" id="name_product" maxlength="200" class="form-control" disabled="disabled" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <label>Cantidad</label>
                                    <input type="text" decimal="true" name="quantity_product" id="quantity_product" maxlength="20" class="form-control" />
                                </div>
                                <div class="col-sm-3">
                                    <label>Precio</label>
                                    <input type="text" decimal="true" name="price_product" id="price_product" maxlength="20" class="form-control" readonly="readonly"/>
                                </div>
                                <div class="col-sm-3">
                                    <label>Unidad</label>
                                    <input type="text" name="id_unit" id="id_unit" maxlength="20" class="form-control" disabled="disabled" />
                                </div>
                                <div class="col-sm-3">
                                    <label>Subtotal</label>
                                    <input type="text" decimal="true" name="subtotal" id="subtotal" maxlength="20" class="form-control" readonly="readonly"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <center>
                                        <button type="button" id="save" name="save" action="insert" onclick="Save(this);" class="btn btn-default" >Adicionar Producto</button>
                                    </center>
                                </div>
                            </div>

                        </form>
                    </div>


                </div>
            </div>
        </div>



        <div class="panel panel-primary" style="width: 80% !important;">
            <div class="panel-heading">Detalle de Factura
                <br> 
                <a href="#modal_form" class="btn btn-default" data-toggle="modal">Nuevo</a></div>
            <div class="panel-body table-responsive">

                <table id="dataTable0" class="table table-striped table-bordered table-hover nowrap" model="SalesInvoiceDetailsApp" url="Base/Controllers/GetDataTableInvoiceDetail.php" findby="id_invoicedetail" findbyvalue="0" style="width: 100%;"  >
                    <thead id="" tableHead="true">
                        <tr rowHead="true">
                            <th style="width: 10%;">
                                Detalle
                            </th>
                            <th style="width: 15%;">
                                Producto
                            </th>
                            <th style="width: 40%;">
                                Nombre Producto
                            </th>
                            <th style="width: 10%;">
                                Cantidad
                            </th>
                            <th style="width: 15%;">
                                Precio
                            </th>

                            <th style="width: 10%;">
                                Opciones
                            </th>

                        </tr>
                    </thead>
                    <tbody id="tbody_dataTable0">
                        <tr rowSample="true" style="display: none;">
                            <td>{{id_invoicedetail}}</td>
                            <td>{{id_product}}</td>
                            <td>{{name_product}}</td>
                            <td>{{quantity_product}}</td>
                            <td>${{price_product}}</td>

                            <td>
                                <form method="GET" url="Base/Controllers/DefaultController.php" model="SalesInvoiceDetailsApp" findBy="id_number" >
                                    <input type="hidden" name="id_number" id="id_number" value="{{id_number}}" />
                                    <button type="button" name="update" id="update" action="update" class="btn btn-warning" onclick="Edit(this);"><i class="glyphicon glyphicon-edit"></i></button>
                                    <button type="button" name="delete" id="delete" action="delete" class="btn btn-danger" onclick="Delete(this);"><i class="glyphicon glyphicon-remove"></i></button>
                                </form>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script type="text/javascript" src="datatables/js/dataTables.bootstrap.js"></script>
        <script type="text/javascript" src="datatables/js/jquery.dataTables.min.js"></script>

    </body>

</html>
